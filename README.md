# プロジェクト演習Ⅰ・テーマD
## 第7回
### グループ内で決めたゲームの作成:「壁打ちテニスゲーム」
#### グループでのREADME

- 仕様：
    - 概要：飛んでくるボールを長方形の自機を上下させ、右画面端に着かないように打ち返していく「壁打ちテニス」ゲーム。
    - 操作：↑(PgUp)と↓(PgDn)キーで、それぞれ自機の上昇、下降。
    - 得点：
        - どれだけの時間生き残れたかで得点を判断。
        - プレイ中はリアルタイムで現在の経過時間が分かる。
        - ゲームオーバー後は、どれだけの時間生き残れたか表示される。
        - 時間の単位は「秒」であり、小数第二位まで常に表示される。
    - ゲームオーバーの判定：右画面端に当たること。
    - 難易度：
        - 一定時間の間隔でボールを加速することができる
        - 難易度調整：Ballクラス内の引数dfによって難易度を調整できる。引数dfに5を入れると「5秒ごとに1加速する」ということになる

- こだわり：
    - ボールを時間経過で加速できるようにするために、Ballクラス内でクラス変数の設定をしたり、初期速度self.ivx, self.ivyを指定したり、何秒ごとに加速するのかの変更ができるself.dfを指定したりした。
    - ゲームオーバー後の記録の表示：
        - 右側の壁接触時にすぐにreturnするのではなく、flagを用いてゲームオーバー用の画面が表示されるようにする。
        - このとき、flagのbool値切り替えによって現在時間の入った変数timeへの加算が行われなくなるようになるため、ゲームオーバー後のtime変数は固定され、ゲームの得点と同義になる。
        - 画面切り替わり後は、Enterを押すことで改めてreturnが行われ、pygameが落ち、本当の終了となる。
    - 自機の速度：加速する球に追いつけるように、自機の速度を10にする
    - check_bound_rectangle:
        - ボールが自機と接触したときに跳ね返すための関数。
        - 壁との跳ね返りのための関数check_boundを参考に作成。

- コード内容詳細：
    - クラス関数：
        - Screen：土台となる画面（背景など）の処理をまとめたもの
        - Rectangle：自機（長方形）の処理をまとめたもの
        - Ball：ボールの処理をまとめたもの
    - 関数：
        - check_bound：ボールと自機が画面外に行かないようにするための関数
        - check_bound_rectangle：ボールを自機が弾き返すための関数
    - 終了判定：
        - overflagというフラッグを用いてゲームが終わったかどうか処理を分ける
        - overflagは初期はFalseだが、右画面端に着くとTrueになる
        - Flaseだと、時間は進み、ボールが動いている
        - Trueだと、時間は止まり、「Enterを押して終了する」という意味のメッセージが出る。
- ToDo:
    - [x]：ボールの発射向きをランダムになるようにする
    - このとき、速度が0になってしまうと、エラーが起きるか、ゲームが簡単すぎるようになる可能性がある。簡単すぎるようになる例として、速度が(2, 0)となり、一直線の横移動しかしなくなる可能性がある。
    - 対応：（大矢航輔）ボールの出現位置のy軸の部分をランダムにする。向きは変わっていないが、プレイするごとに挙動に変化が生まれた。

- バグ：
    - [ ]長方形の角と壁ではさむと、長方形の自機の周りを張り付くような挙動をする時がある。  
    　対策案：自機の角を滑らかにする？


- 班員のmerge(マージ)した部分:
    - c0b21172 大矢航輔：
        - 表示文字のフォントと色の改善。
        - ボールの初期位置のy軸をランダムにすることで、プレイするごとにボールの挙動が変化するようになった
    - C0B21064：コメントの訂正（多）
    - C0B21020上原：コメントの訂正
    - C0B21008アライ：現在の速度の表示
    